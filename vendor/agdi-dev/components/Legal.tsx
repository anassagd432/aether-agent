import React, { useState } from 'react';
import { ArrowLeft, Shield, Lock, FileText } from 'lucide-react';

interface LegalProps {
    onBack: () => void;
}

type Tab = 'terms' | 'privacy' | 'license';

const Legal: React.FC<LegalProps> = ({ onBack }) => {
    const [activeTab, setActiveTab] = useState<Tab>('terms');

    return (
        <div className="min-h-screen bg-transparent text-white pt-20 pb-16">
            <div className="max-w-4xl mx-auto px-6">

                <button
                    onClick={onBack}
                    className="flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group"
                >
                    <ArrowLeft className="w-4 h-4 group-hover:-translate-x-1 transition-transform" />
                    Back to Home
                </button>

                <h1 className="text-4xl font-bold mb-8">Legal Center</h1>

                <div className="flex flex-wrap gap-2 mb-12 border-b border-white/10 pb-1">
                    <button
                        onClick={() => setActiveTab('terms')}
                        className={`px-4 py-2 rounded-t-lg transition-colors flex items-center gap-2 ${activeTab === 'terms' ? 'bg-slate-800 text-white border-t border-x border-slate-700' : 'text-slate-500 hover:text-slate-300'}`}
                    >
                        <FileText className="w-4 h-4" /> Terms of Service
                    </button>
                    <button
                        onClick={() => setActiveTab('privacy')}
                        className={`px-4 py-2 rounded-t-lg transition-colors flex items-center gap-2 ${activeTab === 'privacy' ? 'bg-slate-800 text-white border-t border-x border-slate-700' : 'text-slate-500 hover:text-slate-300'}`}
                    >
                        <Lock className="w-4 h-4" /> Privacy Policy
                    </button>
                    <button
                        onClick={() => setActiveTab('license')}
                        className={`px-4 py-2 rounded-t-lg transition-colors flex items-center gap-2 ${activeTab === 'license' ? 'bg-slate-800 text-white border-t border-x border-slate-700' : 'text-slate-500 hover:text-slate-300'}`}
                    >
                        <Shield className="w-4 h-4" /> Open Source License
                    </button>
                </div>

                <div className="prose prose-invert prose-slate max-w-none">
                    {activeTab === 'terms' && (
                        <div className="animate-in fade-in duration-300 space-y-6">
                            <h2 className="text-2xl font-bold text-white">1. Terms</h2>
                            <p>By accessing Agdi.dev, you agree to be bound by these terms of service, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws.</p>

                            <h2 className="text-2xl font-bold text-white">2. Use License</h2>
                            <p>Agdi is open source software. However, the managed service at Agdi.dev is provided under the following conditions:</p>
                            <ul className="list-disc pl-5 space-y-2 text-slate-300">
                                <li>You must not use the service for illegal purposes.</li>
                                <li>You retain ownership of all code generated by Agdi.</li>
                                <li>We are not responsible for the quality or security of generated code.</li>
                            </ul>

                            <h2 className="text-2xl font-bold text-white">3. Disclaimer</h2>
                            <p>The materials on Agdi's website are provided on an 'as is' basis. Agdi makes no warranties, expressed or implied.</p>
                        </div>
                    )}

                    {activeTab === 'privacy' && (
                        <div className="animate-in fade-in duration-300 space-y-6">
                            <h2 className="text-2xl font-bold text-white">Privacy First</h2>
                            <p className="text-lg text-slate-300">
                                We believe your code is your intellectual property. Our unique "Bring Your Own Key" architecture means your prompts and code are processed directly between your browser and the LLM provider (Google, OpenAI, Anthropic).
                            </p>

                            <div className="bg-slate-900/50 p-6 rounded-xl border border-white/5 my-6">
                                <h3 className="text-xl font-bold text-white mb-4">Data We Collect</h3>
                                <ul className="list-disc pl-5 space-y-2 text-slate-300">
                                    <li><strong>Account Info:</strong> Basic profile data if you sign in with GitHub/Google.</li>
                                    <li><strong>Usage Stats:</strong> Anonymous telemetry to help us improve the product (can be disabled).</li>
                                    <li><strong>API Keys:</strong> We NEVER store your API keys on our servers. They stay in your browser's local storage.</li>
                                </ul>
                            </div>
                        </div>
                    )}

                    {activeTab === 'license' && (
                        <div className="animate-in fade-in duration-300 space-y-6">
                            <h2 className="text-2xl font-bold text-white">MIT License</h2>
                            <p>Agdi Core is open source software licensed under the MIT License.</p>

                            <div className="font-mono bg-slate-950 p-6 rounded-xl border border-white/10 text-xs text-slate-400 overflow-x-auto">
                                <p className="mb-4">Copyright (c) 2026 Agdi Systems Inc.</p>
                                <p className="mb-4">Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software...</p>
                                <p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.</p>
                            </div>
                        </div>
                    )}
                </div>

            </div>
        </div>
    );
};

export default Legal;
